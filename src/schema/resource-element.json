{
    "$id": "https://magicsoftware.com/schemas/xpi/resources/resource-element",
    "description": "XPI resource element",
    "type": "object",

    "properties": {
      
      "MainResourceId": {
        "type": "number"
      },
      "MainResourceName": {
        "type": "string",
        "description": "In fact it is a resource type: Salesforce, SugarCrm, Database etc"
      },
      "DefaultResource": {
        "type": "string",
        "description": "It contains a name of a default resource of the type specified"
      },
      "MainResourceDefinitions": {
        "type": "array",
        "items": {
          "$ref": "/schemas/xpi/resources/resource-definition"
        }
      }
    },
    "required": [ "MainResourceId", "MainResourceName", "DefaultResource", "MainResourceDefinitions" ],

    "$defs": {
      "ResourceDefinition": {
        "$id": "https://magicsoftware.com/schemas/xpi/resources/resource-definition",
        "description": "XPI resource definition",
        "type": "object",

        "properties": {
          "ResourceTypeId": {
            "type": "number",
            "description": "the order number is a list of resources"
          },
          "ResourceTypeName": {
            "type": "string",
            "description": "A name of the concrete resource",
            "minLength": 1,
            "maxLength": 30
          },
          "ResourceTypeDescription": {
            "type": "string",
            "description": "A description of the resource specified"
          },
          "ResourceProperties": {
            "type": "array",
            "items" : {
              "$ref": "/schemas/xpi/resources/resource-property"
            }
          }

        },
        "required": [
          "ResourceTypeId",
          "ResourceTypeName",
          "ResourceProperties"
        ]

      },

      "ResourceProperty": {
        "$id": "https://magicsoftware.com/schemas/xpi/resources/resource-property",
        "description": "XPI resource property description",
        "type": "object",

        "properties": {
          "Id": {
            "type": "number",
            "description": "A separate enum of all property ids is needed"
          },
          "Name": {
            "type": "string",
            "description": "A separate enum of all property names is needed"
          },
          "ExpressionValue": {
            "type": "string",
            "description": "A value of the corresponding property"
          },
          "DisplaySequenceID": {
            "type": "number",
            "description": "A sequence number of the property"
          }
        },
        "required" : [
          "Id",
          "Name",
          "DisplaySequenceID"
        ]
      }
    }
}